[settings]
main-package = -e .[test]

mxmake-test-runner = zope-testrunner
mxmake-test-path = src
mxmake-source-path = src/node/ext/ldap

mxmake-templates =
    run-tests
    run-coverage

cs = https://github.com/conestack
cs_push = git@github.com:conestack

[mxmake-env]
TESTRUN_MARKER = 1
LDAP_ADD_BIN = openldap/bin/ldapadd
LDAP_DELETE_BIN = openldap/bin/ldapdelete
SLAPD_BIN = openldap/libexec/slapd
SLAPD_URIS = ldap://127.0.0.1:12345
ADDITIONAL_LDIF_LAYERS =

[mxmake-run-tests]
environment = env

[mxmake-run-coverage]
environment = env

[node]
url = ${settings:cs}/node.git
pushurl = ${settings:cs_push}/node.git
branch = refactor-package-layout
mxmake-test-path = src
mxmake-source-path = src/node

[node.ext.ugm]
url = ${settings:cs}/node.ext.ugm.git
pushurl = ${settings:cs_push}/node.ext.ugm.git
branch = refactor-package-layout
extras = test
mxmake-test-path = src
mxmake-source-path = src/node/ext/ugm
